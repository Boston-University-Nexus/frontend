{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DemoData = exports.AddMorePopover = exports.DnDContext = exports.DnDSource = exports.SummaryPos = exports.CellUnits = exports.ViewTypes = exports.SchedulerData = exports.DATETIME_FORMAT = exports.DATE_FORMAT = undefined;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _class, _temp, _initialiseProps; // Col, Row and Icon do not have their own less files for styling. They use \n// rules declared in antd's global css. If these styles are imported directly\n// from within antd, they'll include, for instance, reset rules. These will\n// affect everything on the page and in essence would leak antd's global styles\n// into all projects using this library. Instead of doing that, we are using\n// a hack which allows us to wrap all antd styles to target specific root. In\n// this case the root id will be \"RBS-Scheduler-root\". This way the reset styles\n// won't be applied to elements declared outside of <Scheduler /> component.\n//\n// You can get more context for the issue by reading:\n// https://github.com/ant-design/ant-design/issues/4331\n// The solution is based on:\n// https://github.com/ant-design/ant-design/issues/4331#issuecomment-391066131\n// \n// For development\n// This fix is implemented with webpack's NormalModuleReplacementPlugin in\n// webpack/webpack-dev.config.js.\n//\n// For library builds\n// This fix is implemented by the build script in scripts/build.js\n//\n// The next components have their own specific stylesheets which we import\n// separately here to avoid importing from files which have required the global\n// antd styles.\n\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _col = require('antd/lib/col');\n\nvar _col2 = _interopRequireDefault(_col);\n\nvar _row = require('antd/lib/row');\n\nvar _row2 = _interopRequireDefault(_row);\n\nvar _icon = require('antd/lib/icon');\n\nvar _icon2 = _interopRequireDefault(_icon);\n\nrequire('antd/lib/select/style/index.css');\n\nrequire('antd/lib/grid/style/index.css');\n\nvar _radio = require('antd/lib/radio');\n\nvar _radio2 = _interopRequireDefault(_radio);\n\nrequire('antd/lib/radio/style/index.css');\n\nvar _popover = require('antd/lib/popover');\n\nvar _popover2 = _interopRequireDefault(_popover);\n\nrequire('antd/lib/popover/style/index.css');\n\nvar _calendar = require('antd/lib/calendar');\n\nvar _calendar2 = _interopRequireDefault(_calendar);\n\nrequire('antd/lib/calendar/style/index.css');\n\nvar _EventItem = require('./EventItem');\n\nvar _EventItem2 = _interopRequireDefault(_EventItem);\n\nvar _DnDSource = require('./DnDSource');\n\nvar _DnDSource2 = _interopRequireDefault(_DnDSource);\n\nvar _DnDContext = require('./DnDContext');\n\nvar _DnDContext2 = _interopRequireDefault(_DnDContext);\n\nvar _ResourceView = require('./ResourceView');\n\nvar _ResourceView2 = _interopRequireDefault(_ResourceView);\n\nvar _HeaderView = require('./HeaderView');\n\nvar _HeaderView2 = _interopRequireDefault(_HeaderView);\n\nvar _BodyView = require('./BodyView');\n\nvar _BodyView2 = _interopRequireDefault(_BodyView);\n\nvar _ResourceEvents = require('./ResourceEvents');\n\nvar _ResourceEvents2 = _interopRequireDefault(_ResourceEvents);\n\nvar _AgendaView = require('./AgendaView');\n\nvar _AgendaView2 = _interopRequireDefault(_AgendaView);\n\nvar _AddMorePopover = require('./AddMorePopover');\n\nvar _AddMorePopover2 = _interopRequireDefault(_AddMorePopover);\n\nvar _ViewTypes = require('./ViewTypes');\n\nvar _ViewTypes2 = _interopRequireDefault(_ViewTypes);\n\nvar _CellUnits = require('./CellUnits');\n\nvar _CellUnits2 = _interopRequireDefault(_CellUnits);\n\nvar _SummaryPos = require('./SummaryPos');\n\nvar _SummaryPos2 = _interopRequireDefault(_SummaryPos);\n\nvar _SchedulerData = require('./SchedulerData');\n\nvar _SchedulerData2 = _interopRequireDefault(_SchedulerData);\n\nvar _DemoData = require('./DemoData');\n\nvar _DemoData2 = _interopRequireDefault(_DemoData);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar RadioButton = _radio2.default.Button;\nvar RadioGroup = _radio2.default.Group;\nvar Scheduler = (_temp = _class = function (_Component) {\n  _inherits(Scheduler, _Component);\n\n  function Scheduler(props) {\n    _classCallCheck(this, Scheduler);\n\n    var _this = _possibleConstructorReturn(this, (Scheduler.__proto__ || Object.getPrototypeOf(Scheduler)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    var schedulerData = props.schedulerData,\n        dndSources = props.dndSources;\n    var sources = [];\n    sources.push(new _DnDSource2.default(function (props) {\n      return props.eventItem;\n    }, _EventItem2.default));\n\n    if (dndSources != undefined && dndSources.length > 0) {\n      sources = [].concat(_toConsumableArray(sources), _toConsumableArray(dndSources));\n    }\n\n    var dndContext = new _DnDContext2.default(sources, _ResourceEvents2.default);\n    _this.currentArea = -1;\n\n    schedulerData._setDocumentWidth(document.documentElement.clientWidth);\n\n    _this.state = {\n      visible: false,\n      dndContext: dndContext,\n      contentHeight: schedulerData.getSchedulerContentDesiredHeight(),\n      contentScrollbarHeight: 17,\n      contentScrollbarWidth: 17,\n      resourceScrollbarHeight: 17,\n      resourceScrollbarWidth: 17,\n      scrollLeft: 0,\n      scrollTop: 0,\n      documentWidth: document.documentElement.clientWidth,\n      documentHeight: document.documentElement.clientHeight\n    };\n    if (schedulerData.isSchedulerResponsive()) window.onresize = _this.onWindowResize;\n    return _this;\n  }\n\n  _createClass(Scheduler, [{\n    key: 'componentDidMount',\n    value: function componentDidMount(props, state) {\n      this.resolveScrollbarSize();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(props, state) {\n      this.resolveScrollbarSize();\n      var schedulerData = this.props.schedulerData;\n      var localeMoment = schedulerData.localeMoment,\n          behaviors = schedulerData.behaviors;\n\n      if (schedulerData.getScrollToSpecialMoment() && !!behaviors.getScrollSpecialMomentFunc) {\n        if (!!this.schedulerContent && this.schedulerContent.scrollWidth > this.schedulerContent.clientWidth) {\n          var start = localeMoment(schedulerData.startDate).startOf('day'),\n              end = localeMoment(schedulerData.endDate).endOf('day'),\n              specialMoment = behaviors.getScrollSpecialMomentFunc(schedulerData, start, end);\n\n          if (specialMoment >= start && specialMoment <= end) {\n            var index = 0;\n            schedulerData.headers.forEach(function (item) {\n              var header = localeMoment(item.time);\n              if (specialMoment >= header) index++;\n            });\n            this.schedulerContent.scrollLeft = (index - 1) * schedulerData.getContentCellWidth();\n            schedulerData.setScrollToSpecialMoment(false);\n          }\n        }\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          schedulerData = _props.schedulerData,\n          leftCustomHeader = _props.leftCustomHeader,\n          rightCustomHeader = _props.rightCustomHeader;\n      var renderData = schedulerData.renderData,\n          viewType = schedulerData.viewType,\n          showAgenda = schedulerData.showAgenda,\n          isEventPerspective = schedulerData.isEventPerspective,\n          config = schedulerData.config;\n      var width = schedulerData.getSchedulerWidth();\n      var calendarPopoverEnabled = config.calendarPopoverEnabled;\n      var dateLabel = schedulerData.getDateLabel();\n      var defaultValue = '' + viewType + (showAgenda ? 1 : 0) + (isEventPerspective ? 1 : 0);\n      var radioButtonList = config.views.map(function (item) {\n        return _react2.default.createElement(RadioButton, {\n          key: '' + item.viewType + (item.showAgenda ? 1 : 0) + (item.isEventPerspective ? 1 : 0),\n          value: '' + item.viewType + (item.showAgenda ? 1 : 0) + (item.isEventPerspective ? 1 : 0)\n        }, _react2.default.createElement('span', {\n          style: {\n            margin: \"0px 8px\"\n          }\n        }, item.viewName));\n      });\n\n      var tbodyContent = _react2.default.createElement('tr', null);\n\n      if (showAgenda) {\n        tbodyContent = _react2.default.createElement(_AgendaView2.default, this.props);\n      } else {\n        var resourceTableWidth = schedulerData.getResourceTableWidth();\n        var schedulerContainerWidth = width - resourceTableWidth + 1;\n        var schedulerWidth = schedulerData.getContentTableWidth() - 1;\n        var DndResourceEvents = this.state.dndContext.getDropTarget();\n        var eventDndSource = this.state.dndContext.getDndSource();\n        var displayRenderData = renderData.filter(function (o) {\n          return o.render;\n        });\n        var resourceEventsList = displayRenderData.map(function (item) {\n          return _react2.default.createElement(DndResourceEvents, _extends({}, _this2.props, {\n            key: item.slotId,\n            resourceEvents: item,\n            dndSource: eventDndSource\n          }));\n        });\n        var contentScrollbarHeight = this.state.contentScrollbarHeight,\n            contentScrollbarWidth = this.state.contentScrollbarWidth,\n            resourceScrollbarHeight = this.state.resourceScrollbarHeight,\n            resourceScrollbarWidth = this.state.resourceScrollbarWidth,\n            contentHeight = this.state.contentHeight;\n        var resourcePaddingBottom = resourceScrollbarHeight === 0 ? contentScrollbarHeight : 0;\n        var contentPaddingBottom = contentScrollbarHeight === 0 ? resourceScrollbarHeight : 0;\n        var schedulerContentStyle = {\n          overflow: 'auto',\n          margin: \"0px\",\n          position: \"relative\",\n          paddingBottom: contentPaddingBottom\n        };\n        var resourceContentStyle = {\n          overflowX: \"auto\",\n          overflowY: \"auto\",\n          width: resourceTableWidth + resourceScrollbarWidth - 2,\n          margin: '0px -' + contentScrollbarWidth + 'px 0px 0px'\n        };\n\n        if (config.schedulerMaxHeight > 0) {\n          schedulerContentStyle = _extends({}, schedulerContentStyle, {\n            maxHeight: config.schedulerMaxHeight - config.tableHeaderHeight\n          });\n          resourceContentStyle = _extends({}, resourceContentStyle, {\n            maxHeight: config.schedulerMaxHeight - config.tableHeaderHeight\n          });\n        }\n\n        var resourceName = schedulerData.isEventPerspective ? config.taskName : config.resourceName;\n        tbodyContent = _react2.default.createElement('tr', null, _react2.default.createElement('td', {\n          style: {\n            width: resourceTableWidth,\n            verticalAlign: 'top'\n          }\n        }, _react2.default.createElement('div', {\n          className: 'resource-view'\n        }, _react2.default.createElement('div', {\n          style: {\n            overflow: \"hidden\",\n            borderBottom: \"1px solid #e9e9e9\",\n            height: config.tableHeaderHeight\n          }\n        }, _react2.default.createElement('div', {\n          style: {\n            overflowX: \"scroll\",\n            overflowY: \"hidden\",\n            margin: '0px 0px -' + contentScrollbarHeight + 'px'\n          }\n        }, _react2.default.createElement('table', {\n          className: 'resource-table'\n        }, _react2.default.createElement('thead', null, _react2.default.createElement('tr', {\n          style: {\n            height: config.tableHeaderHeight\n          }\n        }, _react2.default.createElement('th', {\n          className: 'header3-text'\n        }, resourceName)))))), _react2.default.createElement('div', {\n          style: resourceContentStyle,\n          ref: this.schedulerResourceRef,\n          onMouseOver: this.onSchedulerResourceMouseOver,\n          onMouseOut: this.onSchedulerResourceMouseOut,\n          onScroll: this.onSchedulerResourceScroll\n        }, _react2.default.createElement(_ResourceView2.default, _extends({}, this.props, {\n          contentScrollbarHeight: resourcePaddingBottom\n        }))))), _react2.default.createElement('td', null, _react2.default.createElement('div', {\n          className: 'scheduler-view',\n          style: {\n            width: schedulerContainerWidth,\n            verticalAlign: 'top'\n          }\n        }, _react2.default.createElement('div', {\n          style: {\n            overflow: \"hidden\",\n            borderBottom: \"1px solid #e9e9e9\",\n            height: config.tableHeaderHeight\n          }\n        }, _react2.default.createElement('div', {\n          style: {\n            overflowX: \"scroll\",\n            overflowY: \"hidden\",\n            margin: '0px 0px -' + contentScrollbarHeight + 'px'\n          },\n          ref: this.schedulerHeadRef,\n          onMouseOver: this.onSchedulerHeadMouseOver,\n          onMouseOut: this.onSchedulerHeadMouseOut,\n          onScroll: this.onSchedulerHeadScroll\n        }, _react2.default.createElement('div', {\n          style: {\n            paddingRight: contentScrollbarWidth + 'px',\n            width: schedulerWidth + contentScrollbarWidth\n          }\n        }, _react2.default.createElement('table', {\n          className: 'scheduler-bg-table'\n        }, _react2.default.createElement(_HeaderView2.default, this.props))))), _react2.default.createElement('div', {\n          style: schedulerContentStyle,\n          ref: this.schedulerContentRef,\n          onMouseOver: this.onSchedulerContentMouseOver,\n          onMouseOut: this.onSchedulerContentMouseOut,\n          onScroll: this.onSchedulerContentScroll\n        }, _react2.default.createElement('div', {\n          style: {\n            width: schedulerWidth,\n            height: contentHeight\n          }\n        }, _react2.default.createElement('div', {\n          className: 'scheduler-content'\n        }, _react2.default.createElement('table', {\n          className: 'scheduler-content-table'\n        }, _react2.default.createElement('tbody', null, resourceEventsList))), _react2.default.createElement('div', {\n          className: 'scheduler-bg'\n        }, _react2.default.createElement('table', {\n          className: 'scheduler-bg-table',\n          style: {\n            width: schedulerWidth\n          },\n          ref: this.schedulerContentBgTableRef\n        }, _react2.default.createElement(_BodyView2.default, this.props))))))));\n      }\n\n      ;\n\n      var popover = _react2.default.createElement('div', {\n        className: 'popover-calendar'\n      }, _react2.default.createElement(_calendar2.default, {\n        fullscreen: false,\n        onSelect: this.onSelect\n      }));\n\n      var schedulerHeader = _react2.default.createElement('div', null);\n\n      if (config.headerEnabled) {\n        schedulerHeader = _react2.default.createElement(_row2.default, {\n          type: 'flex',\n          align: 'middle',\n          justify: 'space-between',\n          style: {\n            marginBottom: '24px'\n          }\n        }, leftCustomHeader, _react2.default.createElement(_col2.default, null, _react2.default.createElement('div', {\n          className: 'header2-text'\n        }, _react2.default.createElement(_icon2.default, {\n          type: 'left',\n          style: {\n            marginRight: \"8px\"\n          },\n          className: 'icon-nav',\n          onClick: this.goBack\n        }), calendarPopoverEnabled ? _react2.default.createElement(_popover2.default, {\n          content: popover,\n          placement: 'bottom',\n          trigger: 'click',\n          visible: this.state.visible,\n          onVisibleChange: this.handleVisibleChange\n        }, _react2.default.createElement('span', {\n          className: 'header2-text-label',\n          style: {\n            cursor: 'pointer'\n          }\n        }, dateLabel)) : _react2.default.createElement('span', {\n          className: 'header2-text-label'\n        }, dateLabel), _react2.default.createElement(_icon2.default, {\n          type: 'right',\n          style: {\n            marginLeft: \"8px\"\n          },\n          className: 'icon-nav',\n          onClick: this.goNext\n        }))), _react2.default.createElement(_col2.default, null, _react2.default.createElement(RadioGroup, {\n          defaultValue: defaultValue,\n          size: 'default',\n          onChange: this.onViewChange\n        }, radioButtonList)), rightCustomHeader);\n      }\n\n      return _react2.default.createElement('table', {\n        id: 'RBS-Scheduler-root',\n        className: 'scheduler',\n        style: {\n          width: width + 'px'\n        }\n      }, _react2.default.createElement('thead', null, _react2.default.createElement('tr', null, _react2.default.createElement('td', {\n        colSpan: '2'\n      }, schedulerHeader))), _react2.default.createElement('tbody', null, tbodyContent));\n    }\n  }]);\n\n  return Scheduler;\n}(_react.Component), _class.propTypes = {\n  schedulerData: _propTypes.PropTypes.object.isRequired,\n  prevClick: _propTypes.PropTypes.func.isRequired,\n  nextClick: _propTypes.PropTypes.func.isRequired,\n  onViewChange: _propTypes.PropTypes.func.isRequired,\n  onSelectDate: _propTypes.PropTypes.func.isRequired,\n  onSetAddMoreState: _propTypes.PropTypes.func,\n  updateEventStart: _propTypes.PropTypes.func,\n  updateEventEnd: _propTypes.PropTypes.func,\n  moveEvent: _propTypes.PropTypes.func,\n  movingEvent: _propTypes.PropTypes.func,\n  leftCustomHeader: _propTypes.PropTypes.object,\n  rightCustomHeader: _propTypes.PropTypes.object,\n  newEvent: _propTypes.PropTypes.func,\n  subtitleGetter: _propTypes.PropTypes.func,\n  eventItemClick: _propTypes.PropTypes.func,\n  viewEventClick: _propTypes.PropTypes.func,\n  viewEventText: _propTypes.PropTypes.string,\n  viewEvent2Click: _propTypes.PropTypes.func,\n  viewEvent2Text: _propTypes.PropTypes.string,\n  conflictOccurred: _propTypes.PropTypes.func,\n  eventItemTemplateResolver: _propTypes.PropTypes.func,\n  dndSources: _propTypes.PropTypes.array,\n  slotClickedFunc: _propTypes.PropTypes.func,\n  toggleExpandFunc: _propTypes.PropTypes.func,\n  slotItemTemplateResolver: _propTypes.PropTypes.func,\n  nonAgendaCellHeaderTemplateResolver: _propTypes.PropTypes.func,\n  onScrollLeft: _propTypes.PropTypes.func,\n  onScrollRight: _propTypes.PropTypes.func,\n  onScrollTop: _propTypes.PropTypes.func,\n  onScrollBottom: _propTypes.PropTypes.func\n}, _initialiseProps = function _initialiseProps() {\n  var _this3 = this;\n\n  this.onWindowResize = function (e) {\n    var schedulerData = _this3.props.schedulerData;\n\n    schedulerData._setDocumentWidth(document.documentElement.clientWidth);\n\n    _this3.setState({\n      documentWidth: document.documentElement.clientWidth,\n      documentHeight: document.documentElement.clientHeight\n    });\n  };\n\n  this.resolveScrollbarSize = function () {\n    var schedulerData = _this3.props.schedulerData;\n    var contentScrollbarHeight = 17,\n        contentScrollbarWidth = 17,\n        resourceScrollbarHeight = 17,\n        resourceScrollbarWidth = 17,\n        contentHeight = schedulerData.getSchedulerContentDesiredHeight();\n\n    if (!!_this3.schedulerContent) {\n      contentScrollbarHeight = _this3.schedulerContent.offsetHeight - _this3.schedulerContent.clientHeight;\n      contentScrollbarWidth = _this3.schedulerContent.offsetWidth - _this3.schedulerContent.clientWidth;\n    }\n\n    if (!!_this3.schedulerResource) {\n      resourceScrollbarHeight = _this3.schedulerResource.offsetHeight - _this3.schedulerResource.clientHeight;\n      resourceScrollbarWidth = _this3.schedulerResource.offsetWidth - _this3.schedulerResource.clientWidth;\n    }\n\n    if (!!_this3.schedulerContentBgTable && !!_this3.schedulerContentBgTable.offsetHeight) {\n      contentHeight = _this3.schedulerContentBgTable.offsetHeight;\n    }\n\n    var tmpState = {};\n    var needSet = false;\n\n    if (contentScrollbarHeight != _this3.state.contentScrollbarHeight) {\n      tmpState = _extends({}, tmpState, {\n        contentScrollbarHeight: contentScrollbarHeight\n      });\n      needSet = true;\n    }\n\n    if (contentScrollbarWidth != _this3.state.contentScrollbarWidth) {\n      tmpState = _extends({}, tmpState, {\n        contentScrollbarWidth: contentScrollbarWidth\n      });\n      needSet = true;\n    }\n\n    if (contentHeight != _this3.state.contentHeight) {\n      tmpState = _extends({}, tmpState, {\n        contentHeight: contentHeight\n      });\n      needSet = true;\n    }\n\n    if (resourceScrollbarHeight != _this3.state.resourceScrollbarHeight) {\n      tmpState = _extends({}, tmpState, {\n        resourceScrollbarHeight: resourceScrollbarHeight\n      });\n      needSet = true;\n    }\n\n    if (resourceScrollbarWidth != _this3.state.resourceScrollbarWidth) {\n      tmpState = _extends({}, tmpState, {\n        resourceScrollbarWidth: resourceScrollbarWidth\n      });\n      needSet = true;\n    }\n\n    if (needSet) _this3.setState(tmpState);\n  };\n\n  this.schedulerHeadRef = function (element) {\n    _this3.schedulerHead = element;\n  };\n\n  this.onSchedulerHeadMouseOver = function () {\n    _this3.currentArea = 2;\n  };\n\n  this.onSchedulerHeadMouseOut = function () {\n    _this3.currentArea = -1;\n  };\n\n  this.onSchedulerHeadScroll = function (proxy, event) {\n    if ((_this3.currentArea === 2 || _this3.currentArea === -1) && _this3.schedulerContent.scrollLeft != _this3.schedulerHead.scrollLeft) _this3.schedulerContent.scrollLeft = _this3.schedulerHead.scrollLeft;\n  };\n\n  this.schedulerResourceRef = function (element) {\n    _this3.schedulerResource = element;\n  };\n\n  this.onSchedulerResourceMouseOver = function () {\n    _this3.currentArea = 1;\n  };\n\n  this.onSchedulerResourceMouseOut = function () {\n    _this3.currentArea = -1;\n  };\n\n  this.onSchedulerResourceScroll = function (proxy, event) {\n    if ((_this3.currentArea === 1 || _this3.currentArea === -1) && _this3.schedulerContent.scrollTop != _this3.schedulerResource.scrollTop) _this3.schedulerContent.scrollTop = _this3.schedulerResource.scrollTop;\n  };\n\n  this.schedulerContentRef = function (element) {\n    _this3.schedulerContent = element;\n  };\n\n  this.schedulerContentBgTableRef = function (element) {\n    _this3.schedulerContentBgTable = element;\n  };\n\n  this.onSchedulerContentMouseOver = function () {\n    _this3.currentArea = 0;\n  };\n\n  this.onSchedulerContentMouseOut = function () {\n    _this3.currentArea = -1;\n  };\n\n  this.onSchedulerContentScroll = function (proxy, event) {\n    if (_this3.currentArea === 0 || _this3.currentArea === -1) {\n      if (_this3.schedulerHead.scrollLeft != _this3.schedulerContent.scrollLeft) _this3.schedulerHead.scrollLeft = _this3.schedulerContent.scrollLeft;\n      if (_this3.schedulerResource.scrollTop != _this3.schedulerContent.scrollTop) _this3.schedulerResource.scrollTop = _this3.schedulerContent.scrollTop;\n    }\n\n    var _props2 = _this3.props,\n        schedulerData = _props2.schedulerData,\n        onScrollLeft = _props2.onScrollLeft,\n        onScrollRight = _props2.onScrollRight,\n        onScrollTop = _props2.onScrollTop,\n        onScrollBottom = _props2.onScrollBottom;\n    var _state = _this3.state,\n        scrollLeft = _state.scrollLeft,\n        scrollTop = _state.scrollTop;\n\n    if (_this3.schedulerContent.scrollLeft !== scrollLeft) {\n      if (_this3.schedulerContent.scrollLeft === 0 && onScrollLeft != undefined) {\n        onScrollLeft(schedulerData, _this3.schedulerContent, _this3.schedulerContent.scrollWidth - _this3.schedulerContent.clientWidth);\n      }\n\n      if (_this3.schedulerContent.scrollLeft === _this3.schedulerContent.scrollWidth - _this3.schedulerContent.clientWidth && onScrollRight != undefined) {\n        onScrollRight(schedulerData, _this3.schedulerContent, _this3.schedulerContent.scrollWidth - _this3.schedulerContent.clientWidth);\n      }\n    } else if (_this3.schedulerContent.scrollTop !== scrollTop) {\n      if (_this3.schedulerContent.scrollTop === 0 && onScrollTop != undefined) {\n        onScrollTop(schedulerData, _this3.schedulerContent, _this3.schedulerContent.scrollHeight - _this3.schedulerContent.clientHeight);\n      }\n\n      if (_this3.schedulerContent.scrollTop === _this3.schedulerContent.scrollHeight - _this3.schedulerContent.clientHeight && onScrollBottom != undefined) {\n        onScrollBottom(schedulerData, _this3.schedulerContent, _this3.schedulerContent.scrollHeight - _this3.schedulerContent.clientHeight);\n      }\n    }\n\n    _this3.setState({\n      scrollLeft: _this3.schedulerContent.scrollLeft,\n      scrollTop: _this3.schedulerContent.scrollTop\n    });\n  };\n\n  this.onViewChange = function (e) {\n    var _props3 = _this3.props,\n        onViewChange = _props3.onViewChange,\n        schedulerData = _props3.schedulerData;\n    var viewType = parseInt(e.target.value.charAt(0));\n    var showAgenda = e.target.value.charAt(1) === '1';\n    var isEventPerspective = e.target.value.charAt(2) === '1';\n    onViewChange(schedulerData, {\n      viewType: viewType,\n      showAgenda: showAgenda,\n      isEventPerspective: isEventPerspective\n    });\n  };\n\n  this.goNext = function () {\n    var _props4 = _this3.props,\n        nextClick = _props4.nextClick,\n        schedulerData = _props4.schedulerData;\n    nextClick(schedulerData);\n  };\n\n  this.goBack = function () {\n    var _props5 = _this3.props,\n        prevClick = _props5.prevClick,\n        schedulerData = _props5.schedulerData;\n    prevClick(schedulerData);\n  };\n\n  this.handleVisibleChange = function (visible) {\n    _this3.setState({\n      visible: visible\n    });\n  };\n\n  this.onSelect = function (date) {\n    _this3.setState({\n      visible: false\n    });\n\n    var _props6 = _this3.props,\n        onSelectDate = _props6.onSelectDate,\n        schedulerData = _props6.schedulerData;\n    onSelectDate(schedulerData, date);\n  };\n}, _temp);\nvar DATE_FORMAT = exports.DATE_FORMAT = 'YYYY-MM-DD';\nvar DATETIME_FORMAT = exports.DATETIME_FORMAT = 'YYYY-MM-DD HH:mm:ss';\nexports.SchedulerData = _SchedulerData2.default;\nexports.ViewTypes = _ViewTypes2.default;\nexports.CellUnits = _CellUnits2.default;\nexports.SummaryPos = _SummaryPos2.default;\nexports.DnDSource = _DnDSource2.default;\nexports.DnDContext = _DnDContext2.default;\nexports.AddMorePopover = _AddMorePopover2.default;\nexports.DemoData = _DemoData2.default;\nexports.default = Scheduler; // this line has been added by scripts/build.js\n\nrequire('./css/antd-globals-hiding-hack.css');","map":{"version":3,"sources":["/home/danielmelchor/Documents/CodeProjects/nexus/frontend/node_modules/react-big-scheduler/lib/index.js"],"names":["Object","defineProperty","exports","value","DemoData","AddMorePopover","DnDContext","DnDSource","SummaryPos","CellUnits","ViewTypes","SchedulerData","DATETIME_FORMAT","DATE_FORMAT","undefined","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_class","_temp","_initialiseProps","_react","require","_react2","_interopRequireDefault","_propTypes","_col","_col2","_row","_row2","_icon","_icon2","_radio","_radio2","_popover","_popover2","_calendar","_calendar2","_EventItem","_EventItem2","_DnDSource","_DnDSource2","_DnDContext","_DnDContext2","_ResourceView","_ResourceView2","_HeaderView","_HeaderView2","_BodyView","_BodyView2","_ResourceEvents","_ResourceEvents2","_AgendaView","_AgendaView2","_AddMorePopover","_AddMorePopover2","_ViewTypes","_ViewTypes2","_CellUnits","_CellUnits2","_SummaryPos","_SummaryPos2","_SchedulerData","_SchedulerData2","_DemoData","_DemoData2","obj","__esModule","default","_toConsumableArray","arr","Array","isArray","arr2","from","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","RadioButton","Button","RadioGroup","Group","Scheduler","_Component","_this","getPrototypeOf","schedulerData","dndSources","sources","push","eventItem","concat","dndContext","currentArea","_setDocumentWidth","document","documentElement","clientWidth","state","visible","contentHeight","getSchedulerContentDesiredHeight","contentScrollbarHeight","contentScrollbarWidth","resourceScrollbarHeight","resourceScrollbarWidth","scrollLeft","scrollTop","documentWidth","documentHeight","clientHeight","isSchedulerResponsive","window","onresize","onWindowResize","componentDidMount","resolveScrollbarSize","componentDidUpdate","localeMoment","behaviors","getScrollToSpecialMoment","getScrollSpecialMomentFunc","schedulerContent","scrollWidth","start","startDate","startOf","end","endDate","endOf","specialMoment","index","headers","forEach","item","header","time","getContentCellWidth","setScrollToSpecialMoment","render","_this2","_props","leftCustomHeader","rightCustomHeader","renderData","viewType","showAgenda","isEventPerspective","config","width","getSchedulerWidth","calendarPopoverEnabled","dateLabel","getDateLabel","defaultValue","radioButtonList","views","map","createElement","style","margin","viewName","tbodyContent","resourceTableWidth","getResourceTableWidth","schedulerContainerWidth","schedulerWidth","getContentTableWidth","DndResourceEvents","getDropTarget","eventDndSource","getDndSource","displayRenderData","filter","o","resourceEventsList","slotId","resourceEvents","dndSource","resourcePaddingBottom","contentPaddingBottom","schedulerContentStyle","overflow","position","paddingBottom","resourceContentStyle","overflowX","overflowY","schedulerMaxHeight","maxHeight","tableHeaderHeight","resourceName","taskName","verticalAlign","className","borderBottom","height","ref","schedulerResourceRef","onMouseOver","onSchedulerResourceMouseOver","onMouseOut","onSchedulerResourceMouseOut","onScroll","onSchedulerResourceScroll","schedulerHeadRef","onSchedulerHeadMouseOver","onSchedulerHeadMouseOut","onSchedulerHeadScroll","paddingRight","schedulerContentRef","onSchedulerContentMouseOver","onSchedulerContentMouseOut","onSchedulerContentScroll","schedulerContentBgTableRef","popover","fullscreen","onSelect","schedulerHeader","headerEnabled","type","align","justify","marginBottom","marginRight","onClick","goBack","content","placement","trigger","onVisibleChange","handleVisibleChange","cursor","marginLeft","goNext","size","onChange","onViewChange","id","colSpan","Component","propTypes","PropTypes","object","isRequired","prevClick","func","nextClick","onSelectDate","onSetAddMoreState","updateEventStart","updateEventEnd","moveEvent","movingEvent","newEvent","subtitleGetter","eventItemClick","viewEventClick","viewEventText","string","viewEvent2Click","viewEvent2Text","conflictOccurred","eventItemTemplateResolver","array","slotClickedFunc","toggleExpandFunc","slotItemTemplateResolver","nonAgendaCellHeaderTemplateResolver","onScrollLeft","onScrollRight","onScrollTop","onScrollBottom","_this3","e","setState","offsetHeight","offsetWidth","schedulerResource","schedulerContentBgTable","tmpState","needSet","element","schedulerHead","proxy","event","_props2","_state","scrollHeight","_props3","parseInt","charAt","_props4","_props5","date","_props6"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.DemoData = exports.AddMorePopover = exports.DnDContext = exports.DnDSource = exports.SummaryPos = exports.CellUnits = exports.ViewTypes = exports.SchedulerData = exports.DATETIME_FORMAT = exports.DATE_FORMAT = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp, _initialiseProps;\n// Col, Row and Icon do not have their own less files for styling. They use \n// rules declared in antd's global css. If these styles are imported directly\n// from within antd, they'll include, for instance, reset rules. These will\n// affect everything on the page and in essence would leak antd's global styles\n// into all projects using this library. Instead of doing that, we are using\n// a hack which allows us to wrap all antd styles to target specific root. In\n// this case the root id will be \"RBS-Scheduler-root\". This way the reset styles\n// won't be applied to elements declared outside of <Scheduler /> component.\n//\n// You can get more context for the issue by reading:\n// https://github.com/ant-design/ant-design/issues/4331\n// The solution is based on:\n// https://github.com/ant-design/ant-design/issues/4331#issuecomment-391066131\n// \n// For development\n// This fix is implemented with webpack's NormalModuleReplacementPlugin in\n// webpack/webpack-dev.config.js.\n//\n// For library builds\n// This fix is implemented by the build script in scripts/build.js\n//\n// The next components have their own specific stylesheets which we import\n// separately here to avoid importing from files which have required the global\n// antd styles.\n\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _col = require('antd/lib/col');\n\nvar _col2 = _interopRequireDefault(_col);\n\nvar _row = require('antd/lib/row');\n\nvar _row2 = _interopRequireDefault(_row);\n\nvar _icon = require('antd/lib/icon');\n\nvar _icon2 = _interopRequireDefault(_icon);\n\nrequire('antd/lib/select/style/index.css');\n\nrequire('antd/lib/grid/style/index.css');\n\nvar _radio = require('antd/lib/radio');\n\nvar _radio2 = _interopRequireDefault(_radio);\n\nrequire('antd/lib/radio/style/index.css');\n\nvar _popover = require('antd/lib/popover');\n\nvar _popover2 = _interopRequireDefault(_popover);\n\nrequire('antd/lib/popover/style/index.css');\n\nvar _calendar = require('antd/lib/calendar');\n\nvar _calendar2 = _interopRequireDefault(_calendar);\n\nrequire('antd/lib/calendar/style/index.css');\n\nvar _EventItem = require('./EventItem');\n\nvar _EventItem2 = _interopRequireDefault(_EventItem);\n\nvar _DnDSource = require('./DnDSource');\n\nvar _DnDSource2 = _interopRequireDefault(_DnDSource);\n\nvar _DnDContext = require('./DnDContext');\n\nvar _DnDContext2 = _interopRequireDefault(_DnDContext);\n\nvar _ResourceView = require('./ResourceView');\n\nvar _ResourceView2 = _interopRequireDefault(_ResourceView);\n\nvar _HeaderView = require('./HeaderView');\n\nvar _HeaderView2 = _interopRequireDefault(_HeaderView);\n\nvar _BodyView = require('./BodyView');\n\nvar _BodyView2 = _interopRequireDefault(_BodyView);\n\nvar _ResourceEvents = require('./ResourceEvents');\n\nvar _ResourceEvents2 = _interopRequireDefault(_ResourceEvents);\n\nvar _AgendaView = require('./AgendaView');\n\nvar _AgendaView2 = _interopRequireDefault(_AgendaView);\n\nvar _AddMorePopover = require('./AddMorePopover');\n\nvar _AddMorePopover2 = _interopRequireDefault(_AddMorePopover);\n\nvar _ViewTypes = require('./ViewTypes');\n\nvar _ViewTypes2 = _interopRequireDefault(_ViewTypes);\n\nvar _CellUnits = require('./CellUnits');\n\nvar _CellUnits2 = _interopRequireDefault(_CellUnits);\n\nvar _SummaryPos = require('./SummaryPos');\n\nvar _SummaryPos2 = _interopRequireDefault(_SummaryPos);\n\nvar _SchedulerData = require('./SchedulerData');\n\nvar _SchedulerData2 = _interopRequireDefault(_SchedulerData);\n\nvar _DemoData = require('./DemoData');\n\nvar _DemoData2 = _interopRequireDefault(_DemoData);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar RadioButton = _radio2.default.Button;\nvar RadioGroup = _radio2.default.Group;\n\nvar Scheduler = (_temp = _class = function (_Component) {\n    _inherits(Scheduler, _Component);\n\n    function Scheduler(props) {\n        _classCallCheck(this, Scheduler);\n\n        var _this = _possibleConstructorReturn(this, (Scheduler.__proto__ || Object.getPrototypeOf(Scheduler)).call(this, props));\n\n        _initialiseProps.call(_this);\n\n        var schedulerData = props.schedulerData,\n            dndSources = props.dndSources;\n\n        var sources = [];\n        sources.push(new _DnDSource2.default(function (props) {\n            return props.eventItem;\n        }, _EventItem2.default));\n        if (dndSources != undefined && dndSources.length > 0) {\n            sources = [].concat(_toConsumableArray(sources), _toConsumableArray(dndSources));\n        }\n        var dndContext = new _DnDContext2.default(sources, _ResourceEvents2.default);\n\n        _this.currentArea = -1;\n        schedulerData._setDocumentWidth(document.documentElement.clientWidth);\n        _this.state = {\n            visible: false,\n            dndContext: dndContext,\n            contentHeight: schedulerData.getSchedulerContentDesiredHeight(),\n            contentScrollbarHeight: 17,\n            contentScrollbarWidth: 17,\n            resourceScrollbarHeight: 17,\n            resourceScrollbarWidth: 17,\n            scrollLeft: 0,\n            scrollTop: 0,\n            documentWidth: document.documentElement.clientWidth,\n            documentHeight: document.documentElement.clientHeight\n        };\n\n        if (schedulerData.isSchedulerResponsive()) window.onresize = _this.onWindowResize;\n        return _this;\n    }\n\n    _createClass(Scheduler, [{\n        key: 'componentDidMount',\n        value: function componentDidMount(props, state) {\n            this.resolveScrollbarSize();\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate(props, state) {\n            this.resolveScrollbarSize();\n\n            var schedulerData = this.props.schedulerData;\n            var localeMoment = schedulerData.localeMoment,\n                behaviors = schedulerData.behaviors;\n\n            if (schedulerData.getScrollToSpecialMoment() && !!behaviors.getScrollSpecialMomentFunc) {\n                if (!!this.schedulerContent && this.schedulerContent.scrollWidth > this.schedulerContent.clientWidth) {\n                    var start = localeMoment(schedulerData.startDate).startOf('day'),\n                        end = localeMoment(schedulerData.endDate).endOf('day'),\n                        specialMoment = behaviors.getScrollSpecialMomentFunc(schedulerData, start, end);\n                    if (specialMoment >= start && specialMoment <= end) {\n                        var index = 0;\n                        schedulerData.headers.forEach(function (item) {\n                            var header = localeMoment(item.time);\n                            if (specialMoment >= header) index++;\n                        });\n                        this.schedulerContent.scrollLeft = (index - 1) * schedulerData.getContentCellWidth();\n\n                        schedulerData.setScrollToSpecialMoment(false);\n                    }\n                }\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            var _props = this.props,\n                schedulerData = _props.schedulerData,\n                leftCustomHeader = _props.leftCustomHeader,\n                rightCustomHeader = _props.rightCustomHeader;\n            var renderData = schedulerData.renderData,\n                viewType = schedulerData.viewType,\n                showAgenda = schedulerData.showAgenda,\n                isEventPerspective = schedulerData.isEventPerspective,\n                config = schedulerData.config;\n\n            var width = schedulerData.getSchedulerWidth();\n            var calendarPopoverEnabled = config.calendarPopoverEnabled;\n\n            var dateLabel = schedulerData.getDateLabel();\n            var defaultValue = '' + viewType + (showAgenda ? 1 : 0) + (isEventPerspective ? 1 : 0);\n            var radioButtonList = config.views.map(function (item) {\n                return _react2.default.createElement(\n                    RadioButton,\n                    { key: '' + item.viewType + (item.showAgenda ? 1 : 0) + (item.isEventPerspective ? 1 : 0),\n                        value: '' + item.viewType + (item.showAgenda ? 1 : 0) + (item.isEventPerspective ? 1 : 0) },\n                    _react2.default.createElement(\n                        'span',\n                        {\n                            style: { margin: \"0px 8px\" } },\n                        item.viewName\n                    )\n                );\n            });\n\n            var tbodyContent = _react2.default.createElement('tr', null);\n            if (showAgenda) {\n                tbodyContent = _react2.default.createElement(_AgendaView2.default, this.props);\n            } else {\n                var resourceTableWidth = schedulerData.getResourceTableWidth();\n                var schedulerContainerWidth = width - resourceTableWidth + 1;\n                var schedulerWidth = schedulerData.getContentTableWidth() - 1;\n                var DndResourceEvents = this.state.dndContext.getDropTarget();\n                var eventDndSource = this.state.dndContext.getDndSource();\n\n                var displayRenderData = renderData.filter(function (o) {\n                    return o.render;\n                });\n                var resourceEventsList = displayRenderData.map(function (item) {\n                    return _react2.default.createElement(DndResourceEvents, _extends({}, _this2.props, {\n                        key: item.slotId,\n                        resourceEvents: item,\n                        dndSource: eventDndSource\n                    }));\n                });\n\n                var contentScrollbarHeight = this.state.contentScrollbarHeight,\n                    contentScrollbarWidth = this.state.contentScrollbarWidth,\n                    resourceScrollbarHeight = this.state.resourceScrollbarHeight,\n                    resourceScrollbarWidth = this.state.resourceScrollbarWidth,\n                    contentHeight = this.state.contentHeight;\n                var resourcePaddingBottom = resourceScrollbarHeight === 0 ? contentScrollbarHeight : 0;\n                var contentPaddingBottom = contentScrollbarHeight === 0 ? resourceScrollbarHeight : 0;\n                var schedulerContentStyle = { overflow: 'auto', margin: \"0px\", position: \"relative\", paddingBottom: contentPaddingBottom };\n                var resourceContentStyle = { overflowX: \"auto\", overflowY: \"auto\", width: resourceTableWidth + resourceScrollbarWidth - 2, margin: '0px -' + contentScrollbarWidth + 'px 0px 0px' };\n                if (config.schedulerMaxHeight > 0) {\n                    schedulerContentStyle = _extends({}, schedulerContentStyle, {\n                        maxHeight: config.schedulerMaxHeight - config.tableHeaderHeight\n                    });\n                    resourceContentStyle = _extends({}, resourceContentStyle, {\n                        maxHeight: config.schedulerMaxHeight - config.tableHeaderHeight\n                    });\n                }\n\n                var resourceName = schedulerData.isEventPerspective ? config.taskName : config.resourceName;\n                tbodyContent = _react2.default.createElement(\n                    'tr',\n                    null,\n                    _react2.default.createElement(\n                        'td',\n                        { style: { width: resourceTableWidth, verticalAlign: 'top' } },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'resource-view' },\n                            _react2.default.createElement(\n                                'div',\n                                { style: { overflow: \"hidden\", borderBottom: \"1px solid #e9e9e9\", height: config.tableHeaderHeight } },\n                                _react2.default.createElement(\n                                    'div',\n                                    { style: { overflowX: \"scroll\", overflowY: \"hidden\", margin: '0px 0px -' + contentScrollbarHeight + 'px' } },\n                                    _react2.default.createElement(\n                                        'table',\n                                        { className: 'resource-table' },\n                                        _react2.default.createElement(\n                                            'thead',\n                                            null,\n                                            _react2.default.createElement(\n                                                'tr',\n                                                { style: { height: config.tableHeaderHeight } },\n                                                _react2.default.createElement(\n                                                    'th',\n                                                    { className: 'header3-text' },\n                                                    resourceName\n                                                )\n                                            )\n                                        )\n                                    )\n                                )\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                { style: resourceContentStyle, ref: this.schedulerResourceRef, onMouseOver: this.onSchedulerResourceMouseOver, onMouseOut: this.onSchedulerResourceMouseOut, onScroll: this.onSchedulerResourceScroll },\n                                _react2.default.createElement(_ResourceView2.default, _extends({}, this.props, {\n                                    contentScrollbarHeight: resourcePaddingBottom\n                                }))\n                            )\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'td',\n                        null,\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'scheduler-view', style: { width: schedulerContainerWidth, verticalAlign: 'top' } },\n                            _react2.default.createElement(\n                                'div',\n                                { style: { overflow: \"hidden\", borderBottom: \"1px solid #e9e9e9\", height: config.tableHeaderHeight } },\n                                _react2.default.createElement(\n                                    'div',\n                                    { style: { overflowX: \"scroll\", overflowY: \"hidden\", margin: '0px 0px -' + contentScrollbarHeight + 'px' }, ref: this.schedulerHeadRef, onMouseOver: this.onSchedulerHeadMouseOver, onMouseOut: this.onSchedulerHeadMouseOut, onScroll: this.onSchedulerHeadScroll },\n                                    _react2.default.createElement(\n                                        'div',\n                                        { style: { paddingRight: contentScrollbarWidth + 'px', width: schedulerWidth + contentScrollbarWidth } },\n                                        _react2.default.createElement(\n                                            'table',\n                                            { className: 'scheduler-bg-table' },\n                                            _react2.default.createElement(_HeaderView2.default, this.props)\n                                        )\n                                    )\n                                )\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                { style: schedulerContentStyle, ref: this.schedulerContentRef, onMouseOver: this.onSchedulerContentMouseOver, onMouseOut: this.onSchedulerContentMouseOut, onScroll: this.onSchedulerContentScroll },\n                                _react2.default.createElement(\n                                    'div',\n                                    { style: { width: schedulerWidth, height: contentHeight } },\n                                    _react2.default.createElement(\n                                        'div',\n                                        { className: 'scheduler-content' },\n                                        _react2.default.createElement(\n                                            'table',\n                                            { className: 'scheduler-content-table' },\n                                            _react2.default.createElement(\n                                                'tbody',\n                                                null,\n                                                resourceEventsList\n                                            )\n                                        )\n                                    ),\n                                    _react2.default.createElement(\n                                        'div',\n                                        { className: 'scheduler-bg' },\n                                        _react2.default.createElement(\n                                            'table',\n                                            { className: 'scheduler-bg-table', style: { width: schedulerWidth }, ref: this.schedulerContentBgTableRef },\n                                            _react2.default.createElement(_BodyView2.default, this.props)\n                                        )\n                                    )\n                                )\n                            )\n                        )\n                    )\n                );\n            };\n\n            var popover = _react2.default.createElement(\n                'div',\n                { className: 'popover-calendar' },\n                _react2.default.createElement(_calendar2.default, { fullscreen: false, onSelect: this.onSelect })\n            );\n            var schedulerHeader = _react2.default.createElement('div', null);\n            if (config.headerEnabled) {\n                schedulerHeader = _react2.default.createElement(\n                    _row2.default,\n                    { type: 'flex', align: 'middle', justify: 'space-between', style: { marginBottom: '24px' } },\n                    leftCustomHeader,\n                    _react2.default.createElement(\n                        _col2.default,\n                        null,\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'header2-text' },\n                            _react2.default.createElement(_icon2.default, { type: 'left', style: { marginRight: \"8px\" }, className: 'icon-nav',\n                                onClick: this.goBack }),\n                            calendarPopoverEnabled ? _react2.default.createElement(\n                                _popover2.default,\n                                { content: popover, placement: 'bottom', trigger: 'click',\n                                    visible: this.state.visible,\n                                    onVisibleChange: this.handleVisibleChange },\n                                _react2.default.createElement(\n                                    'span',\n                                    { className: 'header2-text-label', style: { cursor: 'pointer' } },\n                                    dateLabel\n                                )\n                            ) : _react2.default.createElement(\n                                'span',\n                                { className: 'header2-text-label' },\n                                dateLabel\n                            ),\n                            _react2.default.createElement(_icon2.default, { type: 'right', style: { marginLeft: \"8px\" }, className: 'icon-nav',\n                                onClick: this.goNext })\n                        )\n                    ),\n                    _react2.default.createElement(\n                        _col2.default,\n                        null,\n                        _react2.default.createElement(\n                            RadioGroup,\n                            { defaultValue: defaultValue, size: 'default', onChange: this.onViewChange },\n                            radioButtonList\n                        )\n                    ),\n                    rightCustomHeader\n                );\n            }\n\n            return _react2.default.createElement(\n                'table',\n                { id: 'RBS-Scheduler-root', className: 'scheduler', style: { width: width + 'px' } },\n                _react2.default.createElement(\n                    'thead',\n                    null,\n                    _react2.default.createElement(\n                        'tr',\n                        null,\n                        _react2.default.createElement(\n                            'td',\n                            { colSpan: '2' },\n                            schedulerHeader\n                        )\n                    )\n                ),\n                _react2.default.createElement(\n                    'tbody',\n                    null,\n                    tbodyContent\n                )\n            );\n        }\n    }]);\n\n    return Scheduler;\n}(_react.Component), _class.propTypes = {\n    schedulerData: _propTypes.PropTypes.object.isRequired,\n    prevClick: _propTypes.PropTypes.func.isRequired,\n    nextClick: _propTypes.PropTypes.func.isRequired,\n    onViewChange: _propTypes.PropTypes.func.isRequired,\n    onSelectDate: _propTypes.PropTypes.func.isRequired,\n    onSetAddMoreState: _propTypes.PropTypes.func,\n    updateEventStart: _propTypes.PropTypes.func,\n    updateEventEnd: _propTypes.PropTypes.func,\n    moveEvent: _propTypes.PropTypes.func,\n    movingEvent: _propTypes.PropTypes.func,\n    leftCustomHeader: _propTypes.PropTypes.object,\n    rightCustomHeader: _propTypes.PropTypes.object,\n    newEvent: _propTypes.PropTypes.func,\n    subtitleGetter: _propTypes.PropTypes.func,\n    eventItemClick: _propTypes.PropTypes.func,\n    viewEventClick: _propTypes.PropTypes.func,\n    viewEventText: _propTypes.PropTypes.string,\n    viewEvent2Click: _propTypes.PropTypes.func,\n    viewEvent2Text: _propTypes.PropTypes.string,\n    conflictOccurred: _propTypes.PropTypes.func,\n    eventItemTemplateResolver: _propTypes.PropTypes.func,\n    dndSources: _propTypes.PropTypes.array,\n    slotClickedFunc: _propTypes.PropTypes.func,\n    toggleExpandFunc: _propTypes.PropTypes.func,\n    slotItemTemplateResolver: _propTypes.PropTypes.func,\n    nonAgendaCellHeaderTemplateResolver: _propTypes.PropTypes.func,\n    onScrollLeft: _propTypes.PropTypes.func,\n    onScrollRight: _propTypes.PropTypes.func,\n    onScrollTop: _propTypes.PropTypes.func,\n    onScrollBottom: _propTypes.PropTypes.func\n}, _initialiseProps = function _initialiseProps() {\n    var _this3 = this;\n\n    this.onWindowResize = function (e) {\n        var schedulerData = _this3.props.schedulerData;\n\n        schedulerData._setDocumentWidth(document.documentElement.clientWidth);\n        _this3.setState({\n            documentWidth: document.documentElement.clientWidth,\n            documentHeight: document.documentElement.clientHeight\n        });\n    };\n\n    this.resolveScrollbarSize = function () {\n        var schedulerData = _this3.props.schedulerData;\n\n        var contentScrollbarHeight = 17,\n            contentScrollbarWidth = 17,\n            resourceScrollbarHeight = 17,\n            resourceScrollbarWidth = 17,\n            contentHeight = schedulerData.getSchedulerContentDesiredHeight();\n        if (!!_this3.schedulerContent) {\n            contentScrollbarHeight = _this3.schedulerContent.offsetHeight - _this3.schedulerContent.clientHeight;\n            contentScrollbarWidth = _this3.schedulerContent.offsetWidth - _this3.schedulerContent.clientWidth;\n        }\n        if (!!_this3.schedulerResource) {\n            resourceScrollbarHeight = _this3.schedulerResource.offsetHeight - _this3.schedulerResource.clientHeight;\n            resourceScrollbarWidth = _this3.schedulerResource.offsetWidth - _this3.schedulerResource.clientWidth;\n        }\n        if (!!_this3.schedulerContentBgTable && !!_this3.schedulerContentBgTable.offsetHeight) {\n            contentHeight = _this3.schedulerContentBgTable.offsetHeight;\n        }\n\n        var tmpState = {};\n        var needSet = false;\n        if (contentScrollbarHeight != _this3.state.contentScrollbarHeight) {\n            tmpState = _extends({}, tmpState, { contentScrollbarHeight: contentScrollbarHeight });\n            needSet = true;\n        }\n        if (contentScrollbarWidth != _this3.state.contentScrollbarWidth) {\n            tmpState = _extends({}, tmpState, { contentScrollbarWidth: contentScrollbarWidth });\n            needSet = true;\n        }\n        if (contentHeight != _this3.state.contentHeight) {\n            tmpState = _extends({}, tmpState, { contentHeight: contentHeight });\n            needSet = true;\n        }\n        if (resourceScrollbarHeight != _this3.state.resourceScrollbarHeight) {\n            tmpState = _extends({}, tmpState, { resourceScrollbarHeight: resourceScrollbarHeight });\n            needSet = true;\n        }\n        if (resourceScrollbarWidth != _this3.state.resourceScrollbarWidth) {\n            tmpState = _extends({}, tmpState, { resourceScrollbarWidth: resourceScrollbarWidth });\n            needSet = true;\n        }\n        if (needSet) _this3.setState(tmpState);\n    };\n\n    this.schedulerHeadRef = function (element) {\n        _this3.schedulerHead = element;\n    };\n\n    this.onSchedulerHeadMouseOver = function () {\n        _this3.currentArea = 2;\n    };\n\n    this.onSchedulerHeadMouseOut = function () {\n        _this3.currentArea = -1;\n    };\n\n    this.onSchedulerHeadScroll = function (proxy, event) {\n        if ((_this3.currentArea === 2 || _this3.currentArea === -1) && _this3.schedulerContent.scrollLeft != _this3.schedulerHead.scrollLeft) _this3.schedulerContent.scrollLeft = _this3.schedulerHead.scrollLeft;\n    };\n\n    this.schedulerResourceRef = function (element) {\n        _this3.schedulerResource = element;\n    };\n\n    this.onSchedulerResourceMouseOver = function () {\n        _this3.currentArea = 1;\n    };\n\n    this.onSchedulerResourceMouseOut = function () {\n        _this3.currentArea = -1;\n    };\n\n    this.onSchedulerResourceScroll = function (proxy, event) {\n        if ((_this3.currentArea === 1 || _this3.currentArea === -1) && _this3.schedulerContent.scrollTop != _this3.schedulerResource.scrollTop) _this3.schedulerContent.scrollTop = _this3.schedulerResource.scrollTop;\n    };\n\n    this.schedulerContentRef = function (element) {\n        _this3.schedulerContent = element;\n    };\n\n    this.schedulerContentBgTableRef = function (element) {\n        _this3.schedulerContentBgTable = element;\n    };\n\n    this.onSchedulerContentMouseOver = function () {\n        _this3.currentArea = 0;\n    };\n\n    this.onSchedulerContentMouseOut = function () {\n        _this3.currentArea = -1;\n    };\n\n    this.onSchedulerContentScroll = function (proxy, event) {\n        if (_this3.currentArea === 0 || _this3.currentArea === -1) {\n            if (_this3.schedulerHead.scrollLeft != _this3.schedulerContent.scrollLeft) _this3.schedulerHead.scrollLeft = _this3.schedulerContent.scrollLeft;\n            if (_this3.schedulerResource.scrollTop != _this3.schedulerContent.scrollTop) _this3.schedulerResource.scrollTop = _this3.schedulerContent.scrollTop;\n        }\n\n        var _props2 = _this3.props,\n            schedulerData = _props2.schedulerData,\n            onScrollLeft = _props2.onScrollLeft,\n            onScrollRight = _props2.onScrollRight,\n            onScrollTop = _props2.onScrollTop,\n            onScrollBottom = _props2.onScrollBottom;\n        var _state = _this3.state,\n            scrollLeft = _state.scrollLeft,\n            scrollTop = _state.scrollTop;\n\n        if (_this3.schedulerContent.scrollLeft !== scrollLeft) {\n            if (_this3.schedulerContent.scrollLeft === 0 && onScrollLeft != undefined) {\n                onScrollLeft(schedulerData, _this3.schedulerContent, _this3.schedulerContent.scrollWidth - _this3.schedulerContent.clientWidth);\n            }\n            if (_this3.schedulerContent.scrollLeft === _this3.schedulerContent.scrollWidth - _this3.schedulerContent.clientWidth && onScrollRight != undefined) {\n                onScrollRight(schedulerData, _this3.schedulerContent, _this3.schedulerContent.scrollWidth - _this3.schedulerContent.clientWidth);\n            }\n        } else if (_this3.schedulerContent.scrollTop !== scrollTop) {\n            if (_this3.schedulerContent.scrollTop === 0 && onScrollTop != undefined) {\n                onScrollTop(schedulerData, _this3.schedulerContent, _this3.schedulerContent.scrollHeight - _this3.schedulerContent.clientHeight);\n            }\n            if (_this3.schedulerContent.scrollTop === _this3.schedulerContent.scrollHeight - _this3.schedulerContent.clientHeight && onScrollBottom != undefined) {\n                onScrollBottom(schedulerData, _this3.schedulerContent, _this3.schedulerContent.scrollHeight - _this3.schedulerContent.clientHeight);\n            }\n        }\n        _this3.setState({\n            scrollLeft: _this3.schedulerContent.scrollLeft,\n            scrollTop: _this3.schedulerContent.scrollTop\n        });\n    };\n\n    this.onViewChange = function (e) {\n        var _props3 = _this3.props,\n            onViewChange = _props3.onViewChange,\n            schedulerData = _props3.schedulerData;\n\n        var viewType = parseInt(e.target.value.charAt(0));\n        var showAgenda = e.target.value.charAt(1) === '1';\n        var isEventPerspective = e.target.value.charAt(2) === '1';\n        onViewChange(schedulerData, { viewType: viewType, showAgenda: showAgenda, isEventPerspective: isEventPerspective });\n    };\n\n    this.goNext = function () {\n        var _props4 = _this3.props,\n            nextClick = _props4.nextClick,\n            schedulerData = _props4.schedulerData;\n\n        nextClick(schedulerData);\n    };\n\n    this.goBack = function () {\n        var _props5 = _this3.props,\n            prevClick = _props5.prevClick,\n            schedulerData = _props5.schedulerData;\n\n        prevClick(schedulerData);\n    };\n\n    this.handleVisibleChange = function (visible) {\n        _this3.setState({ visible: visible });\n    };\n\n    this.onSelect = function (date) {\n        _this3.setState({\n            visible: false\n        });\n\n        var _props6 = _this3.props,\n            onSelectDate = _props6.onSelectDate,\n            schedulerData = _props6.schedulerData;\n\n        onSelectDate(schedulerData, date);\n    };\n}, _temp);\nvar DATE_FORMAT = exports.DATE_FORMAT = 'YYYY-MM-DD';\nvar DATETIME_FORMAT = exports.DATETIME_FORMAT = 'YYYY-MM-DD HH:mm:ss';\nexports.SchedulerData = _SchedulerData2.default;\nexports.ViewTypes = _ViewTypes2.default;\nexports.CellUnits = _CellUnits2.default;\nexports.SummaryPos = _SummaryPos2.default;\nexports.DnDSource = _DnDSource2.default;\nexports.DnDContext = _DnDContext2.default;\nexports.AddMorePopover = _AddMorePopover2.default;\nexports.DemoData = _DemoData2.default;\nexports.default = Scheduler;\n\n// this line has been added by scripts/build.js\nrequire('./css/antd-globals-hiding-hack.css');\n"]},"metadata":{},"sourceType":"script"}